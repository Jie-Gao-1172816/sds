{% extends "base.html" %}

{% block title %}Students - SDS{% endblock %}

{% block content %}


<h2>Students</h2>

<!--research form -->
<form method="get" action="{{ url_for('student_list') }}" class="mb-4">
  <div class="row g-2 align-items-center">

    <!--  Search input -->
    <div class="col-md-6">
      <input
        type="text"
        name="q"
        class="form-control"
        placeholder="Search by first or last name"
        value="{{ request.args.get('q', '') }}">
    </div>

    <!-- Search button -->
    <div class="col-auto">
      <button type="submit" class="btn btn-dark">Search</button>
    </div>

    <!--  Actions area -->
    <div class="col-auto ms-auto d-flex gap-2">

      <!-- Add Student -->
      <a href="{{ url_for('edit_student') }}" class="btn btn-dark">Add Student</a>


      {# 以后你可以在这里加更多按钮 #}
      {# 
      <a href="#" class="btn btn-outline-primary">Import</a>
      <a href="#" class="btn btn-outline-success">Export</a>
      <a href="#" class="btn btn-outline-danger">Delete</a>
      #}

    </div>

  </div>
</form>

 <table class="table table-striped table-bordered">
        <thead class="table-dark">
            <tr>
                <th>Student ID</th>
                <th>Last Name</th>
                <th>First Name</th>
                <th>Email</th>
                <th>Date of Birth</th>
                <th>Phone</th>
                <th>Enrollment Date</th>
                <th>Class ID</th>
                <th>Edit</th>
            </tr>
        </thead>

        <tbody>
            {% for student in students %}
            <tr>
               <td>{{ student['student_id'] }}</td>
               <td>  <a href="{{ url_for('class_summary', student_id=student['student_id']) }}">
                   {{ student['last_name'] }}</a></td>
               <td> <a href="{{ url_for('class_summary', student_id=student['student_id']) }}">
                   {{ student['first_name'] }}</a></td>
               <td>{{ student['email'] }}</td>
               <td>{{ student['date_of_birth'] }}</td>
               <td>{{ student['phone'] }}</td>
               <td>{{ student['enrollment_date'] }}</td>
               <td>{{ student['class_id'] }}</td>
               <td><a href="{{ url_for('edit_student', student_id=student['student_id']) }}" class="btn btn-dark">Edit</a>

            </tr>
        {% endfor %}
        </tbody>
    </table>

{% endblock %}